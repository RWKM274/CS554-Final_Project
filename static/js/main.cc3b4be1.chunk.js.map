{"version":3,"sources":["components/CreatePDF.js","firebase/Firebase.js","firebase/Auth.js","firebase/FirebaseFunctions.js","components/SignOut.js","components/ChangePassword.js","components/Account.js","components/Home.js","components/Landing.js","components/Navigation.js","components/SocialSignIn.js","components/SignIn.js","components/SignUp.js","components/ShoppingCart.js","components/CandyList.js","components/Candy.js","components/PrivateRoute.js","components/App.js","index.js"],"names":["createPDF","shopcart","doc","jsPDF","rows","forEach","candy","push","name","numbers","price","autoTable","columns","body","date","Date","split","dateStr","save","firebaseApp","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","AuthContext","React","createContext","AuthProvider","children","useState","currentUser","setCurrentUser","loadingUser","setLoadingUser","useEffect","auth","onAuthStateChanged","user","Provider","value","doCreateUserWithEmailAndPassword","email","password","displayName","a","createUserWithEmailAndPassword","updateProfile","doChangePassword","oldPassword","newPassword","credential","EmailAuthProvider","reauthenticateWithCredential","updatePassword","doSignOut","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSocialSignIn","provider","socialProvider","GoogleAuthProvider","signInWithPopup","sendPasswordResetEmail","signOut","SignOutButton","type","onClick","ChangePassword","useContext","pwMatch","setPwMatch","submitForm","event","preventDefault","target","elements","currentPassword","newPasswordOne","newPasswordTwo","alert","providerData","providerId","className","onSubmit","id","placeholder","autoComplete","required","Account","pastOrders","setPastOrders","error","setError","loading","setLoading","axios","get","data","console","log","fetchData","SignOut","map","e","key","_id","order","purchase","src","image","alt","total","address","payment","Home","Landing","logo","Navigation","nameEl","useRef","handleSubmit","window","location","href","current","NavigationAuth","to","size","ref","aria-hidden","NavigationNonAuth","SocialSignIn","socialSignOn","SignIn","handleLogin","document","getElementById","doPasswordReset","SignUp","handleSignUp","passwordOne","passwordTwo","useStyles","makeStyles","card","maxWidth","height","marginLeft","marginRight","borderRadius","border","boxShadow","titleHead","borderBottom","fontWeight","grid","flexGrow","flexDirection","media","width","button","color","fontSize","ShoppingCart","undefined","setShopcartData","showForm","setForm","candyData","setCandyData","quantChange","setQuantChange","itemDeleted","setItemDeleted","firstName","setFirstName","lastName","setLastName","street","setStreet","city","setCity","state","setState","zip","setZip","setPayment","classes","intn","newData","changed","i","cand","filter","ca","stock","delete","put","length","deleteC","candyNumber","then","res","changeData","ind","changeCandy","number","data1","numberha","numberha1","Number","isNaN","test","dataCheck","totalprice","reduce","curr","item","parseInt","clearShopCart","paymentInfo","substring","checkStock","stop","reload","post","currentCandy","updateInformation","newStockNumber","eachCandy","Grid","xs","sm","md","lg","xl","Card","variant","CardActionArea","CardMedia","component","title","CardContent","Typography","gutterBottom","includes","Button","container","spacing","toFixed","hidden","onChange","CandyList","searchTerm","setSearchTerm","filteCandy","setFilteCandy","params","useParams","makeStarRating","rating","num","Math","round","content","returnVal","toLowerCase","htmlFor","numRatings","buildCards","Candy","candyInfo","setCandyInfo","candyHave","setCandyHave","candyStock","setCandyStock","userReview","setUserReview","reviewRating","setReviewRating","candyId","reviews","have","reviewCandy","review","trim","today","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","deleteReview","changeRating","notBlank","manufacturer","vegan","descrption","cols","PrivateRoute","App","path","element","ReactDOM","render"],"mappings":"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","file":"static/js/main.cc3b4be1.chunk.js","sourcesContent":["import \"jspdf-autotable\"\r\nimport jsPDF from \"jspdf\"\r\n\r\n//Generates the PDF given the shopping cart\r\nconst createPDF = shopcart => {\r\n    //Initially planned to use wkhtmltopdf, but that requires changing the PATH variable and was relatively\r\n    //difficult to host on heroku or AWS. Instead we chose to use jsPDF\r\n    const doc = new jsPDF();\r\n\r\n    const columns = ['Candy', 'Amount', 'Price per unit', 'Total cost']\r\n    const rows = [];\r\n\r\n    shopcart.forEach(candy => {\r\n        rows.push([candy.name, candy.numbers, candy.price, candy.numbers * candy.price])\r\n    })\r\n\r\n    doc.autoTable({columns:columns, body:rows});\r\n    const date = Date().split(\" \");\r\n\r\n    const dateStr = date[0] + date[1] + date[2] + date[3] + date[4]\r\n    doc.save(`report_${dateStr}.pdf`)\r\n}   \r\n\r\nexport default createPDF","import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\n\r\nconst firebaseApp = firebase.initializeApp({\r\n  apiKey: \"AIzaSyBz0mn92VagynSWDAwd0rvKPr8uZDfMupw\",\r\n  authDomain: \"candyshop-3a788.firebaseapp.com\",\r\n  projectId: \"candyshop-3a788\",\r\n  storageBucket: \"candyshop-3a788.appspot.com\",\r\n  messagingSenderId: \"864697354101\",\r\n  appId: \"1:864697354101:web:33f7616b94842042f8f53c\"\r\n});\r\n\r\nexport default firebaseApp;\r\n","import React, {useState, useEffect} from 'react';\r\nimport firebaseApp from './Firebase';\r\n\r\nexport const AuthContext = React.createContext();\r\n\r\nexport const AuthProvider = ({children}) => {\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [loadingUser, setLoadingUser] = useState(true);\r\n\r\n  useEffect(() => {\r\n    firebaseApp.auth().onAuthStateChanged((user) => {\r\n      setCurrentUser(user);\r\n      setLoadingUser(false);\r\n    });\r\n  }, []);\r\n\r\n  if (loadingUser) {\r\n    return (\r\n      <div>\r\n        <h1>Loading....Loading....Loading....Loading....Loading....</h1>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={{currentUser}}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n","import firebase from 'firebase/app';\r\n\r\nasync function doCreateUserWithEmailAndPassword(email, password, displayName) {\r\n  await firebase.auth().createUserWithEmailAndPassword(email, password);\r\n  firebase.auth().currentUser.updateProfile({displayName: displayName});\r\n}\r\n\r\nasync function doChangePassword(email, oldPassword, newPassword) {\r\n  let credential = firebase.auth.EmailAuthProvider.credential(\r\n    email,\r\n    oldPassword\r\n  );\r\n  await firebase.auth().currentUser.reauthenticateWithCredential(credential);\r\n  await firebase.auth().currentUser.updatePassword(newPassword);\r\n  await doSignOut();\r\n}\r\n\r\nasync function doSignInWithEmailAndPassword(email, password) {\r\n  await firebase.auth().signInWithEmailAndPassword(email, password);\r\n}\r\n\r\nasync function doSocialSignIn(provider) {\r\n  let socialProvider = null;\r\n  if (provider === 'google') {\r\n    socialProvider = new firebase.auth.GoogleAuthProvider();\r\n  } \r\n  await firebase.auth().signInWithPopup(socialProvider);\r\n}\r\n\r\nasync function doPasswordReset(email) {\r\n  await firebase.auth().sendPasswordResetEmail(email);\r\n}\r\n\r\nasync function doPasswordUpdate(password) {\r\n  await firebase.auth().updatePassword(password);\r\n}\r\n\r\nasync function doSignOut() {\r\n  await firebase.auth().signOut();\r\n}\r\n\r\nexport {\r\n  doCreateUserWithEmailAndPassword,\r\n  doSocialSignIn,\r\n  doSignInWithEmailAndPassword,\r\n  doPasswordReset,\r\n  doPasswordUpdate,\r\n  doSignOut,\r\n  doChangePassword\r\n};\r\n","import React from 'react';\r\nimport {doSignOut} from '../firebase/FirebaseFunctions';\r\n\r\nconst SignOutButton = () => {\r\n  return (\r\n    <button type='button' onClick={doSignOut}>\r\n      Sign Out\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default SignOutButton;","import React, {useContext, useState} from 'react'\r\nimport { AuthContext } from '../firebase/Auth'\r\nimport { doChangePassword } from '../firebase/FirebaseFunctions'\r\nimport '../App.css';\r\nfunction ChangePassword(){\r\n    const {currentUser} = useContext(AuthContext);\r\n    const [ pwMatch, setPwMatch] = useState('');\r\n\r\n    const submitForm = async (event) =>{\r\n        event.preventDefault();\r\n        const {currentPassword, newPasswordOne, newPasswordTwo} = event.target.elements;\r\n        if(newPasswordOne.value !== newPasswordTwo.value){\r\n            setPwMatch('New Passwords do not match, please try again');\r\n            return false;\r\n        }\r\n\r\n        try{\r\n            await doChangePassword(currentUser.email,currentPassword.value,newPasswordOne.value);\r\n            alert(\"Password has been changed. You will now be logged out\")\r\n        }catch(err){\r\n            alert(err)\r\n        }\r\n    }\r\n    if (currentUser.providerData[0].providerId === 'password') {\r\n    return(\r\n        <div>\r\n            {pwMatch && <h4 className='error'>{pwMatch}</h4>}\r\n            <h2>Change Password</h2>\r\n            <form onSubmit={submitForm}>\r\n            <div className='form-group'>\r\n                <label>\r\n                Current Password:\r\n                <input\r\n                    className='form-control'\r\n                    name='currentPassword'\r\n                    id='currentPassword'\r\n                    type='password'\r\n                    placeholder='Current Password'\r\n                    autoComplete='off'\r\n                    required\r\n                />\r\n                </label>\r\n            </div>\r\n\r\n            <div className='form-group'>\r\n                <label>\r\n                New Password:\r\n                <input\r\n                    className='form-control'\r\n                    name='newPasswordOne'\r\n                    id='newPasswordOne'\r\n                    type='password'\r\n                    placeholder='Password'\r\n                    autoComplete='off'\r\n                    required\r\n                />\r\n                </label>\r\n            </div>\r\n            <div className='form-group'>\r\n                <label>\r\n                Confirm New Password:\r\n                <input\r\n                    className='form-control'\r\n                    name='newPasswordTwo'\r\n                    id='newPasswordTwo'\r\n                    type='password'\r\n                    placeholder='Confirm Password'\r\n                    autoComplete='off'\r\n                    required\r\n                />\r\n                </label>\r\n            </div>\r\n\r\n            <button type='submit'>Change Password</button>\r\n            </form>\r\n            <br />\r\n        </div>\r\n        )\r\n    }\r\n    else {\r\n        return (\r\n        <div>\r\n            <h2>\r\n            You are signed in using a Social Media Provider, You cannot change\r\n            your password\r\n            </h2>\r\n        </div>\r\n        );\r\n    }\r\n}\r\nexport default ChangePassword;","import React, {useState, useEffect,useContext} from 'react';\r\nimport axios from 'axios';\r\nimport createPDF from './CreatePDF'\r\nimport { AuthContext } from '../firebase/Auth';\r\nimport SignOutButton from './SignOut';\r\nimport '../App.css';\r\nimport ChangePassword from './ChangePassword';\r\n\r\nfunction Account() {\r\n  const {currentUser} = useContext(AuthContext);\r\n  const [pastOrders, setPastOrders] = useState([])\r\n  const [ error, setError ] = useState(false);\r\n  const [ loading, setLoading ] = useState(true);\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      try {\r\n        const {data} = await axios.get('https://final554groupnull.herokuapp.com/order/' + currentUser.email);\r\n        \r\n        setPastOrders(data);\r\n        //console.log(data)\r\n        setLoading(false);\r\n        setError(false);\r\n      } catch (e) {\r\n        setError(true);\r\n        console.log(e);\r\n      }\r\n    }\r\n    fetchData();\r\n  }, [currentUser.email]);\r\n\r\n  if (error){\r\n    return (\r\n      <div>\r\n        <h2>404 page not find</h2>\r\n      </div>\r\n    )\r\n  }\r\n  if(loading){\r\n    return(\r\n      <div>\r\n        <h2>Loading . . .</h2>\r\n      </div>\r\n    )\r\n  } else{\r\n   // console.log(pastOrders)\r\n  return (\r\n    <div>\r\n      <h2>Account Page</h2>\r\n      <ChangePassword />\r\n      <SignOutButton />\r\n\r\n      <br/>\r\n      <h3>Past Orders</h3>\r\n      {pastOrders&&currentUser&&(<ul id=\"reviewList\">\r\n            {pastOrders.map(e=>\r\n              \r\n              <li key={e._id}>\r\n               <h4>Order #{e._id}</h4>\r\n             \r\n               \r\n                <h5>Purchased Items:</h5>\r\n                \r\n                {e.order.candy.map(purchase=>\r\n                <div key={purchase.name}>\r\n                  <img src={purchase.image} alt='candy'/>\r\n                  <p>Item: {purchase.name} </p>\r\n                  <p>Price Per Unit: {purchase.price}</p>\r\n                  <p>Quantity Purchased: {purchase.numbers}</p>\r\n                  <p>Item total: {purchase.numbers * purchase.price}</p>\r\n                </div>\r\n                 )}\r\n                \r\n                <h5>Total Price {e.order.total}</h5>\r\n                \r\n                <h5>Payment Info: </h5>\r\n                <p>Billing Address: {e.order.address} </p>\r\n                <p>Payment Made With Card Ending In: {e.order.payment}</p>\r\n                <button onClick={() => createPDF(e.order.candy)} >Generate Recipt</button>\r\n              </li>\r\n              \r\n            )}\r\n\r\n          </ul>)}\r\n    </div>\r\n    \r\n  );\r\n  }\r\n}\r\n\r\nexport default Account;","import React from 'react';\r\n\r\nimport '../App.css';\r\n\r\nfunction Home() {\r\n  return (\r\n    <div>\r\n      <h2>This is the Home page</h2>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;","import React from 'react';\r\n\r\nimport '../App.css';\r\n\r\nfunction Landing() {\r\n  return (\r\n    <div className='landing'>\r\n      <h1>Welcome to Group Null's CandyShop</h1>\r\n      <h2>Start browsing our selection of candies using the search bar above.</h2>\r\n      <h3>If something catches your eye, be sure to add it to your cart!</h3>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Landing;","import React, {useContext} from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport { AuthContext } from '../firebase/Auth';\r\nimport '../App.css';\r\n\r\nconst logo = 'https://see.fontimg.com/api/renderfont4/X3WjK/eyJyIjoiZnMiLCJoIjo2NSwidyI6MTI1MCwiZnMiOjUyLCJmZ2MiOiIjRkZGRUZFIiwiYmdjIjoiI0RCMzAzMCIsInQiOjF9/R3JvdXAgTnVsbA/uncracked-free-trial.png'\r\n\r\nconst Navigation = () => {\r\n  const nameEl = React.useRef(null);\r\n  const {currentUser} = useContext(AuthContext);\r\n\r\n  //does someone know how to do this better as it forces a page refresh\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    window.location.href = '/candies/' + nameEl.current.value\r\n  }\r\n\r\n  \r\n  const NavigationAuth = () => {\r\n    return (\r\n      <nav className='navigation'>\r\n        <NavLink className='weblink' to='/'>\r\n          <img src={logo} alt='logo failed to load'/>\r\n        </NavLink>\r\n        <div className='searchBar'>\r\n          <NavLink className='weblink' to='/candies'>\r\n            <input className='allButton' type=\"submit\" value=\"All\"/>\r\n          </NavLink>\r\n          <form className=\"searchForm\" onSubmit={handleSubmit}>\r\n            <input type =\"search\" size=\"50\" placeholder=\"Search For Candies\" ref={nameEl}/>\r\n            <button type=\"submit\"><i className=\"fa fa-search\"></i></button>\r\n          </form>\r\n        </div>\r\n        <NavLink className='weblink' to='/account'>\r\n          <i className=\"fa fa-user-circle\" aria-hidden=\"true\">Account</i>\r\n        </NavLink>\r\n        <NavLink className='weblink' to='/shoppingcart'> \r\n          <i className=\"fa fa-shopping-cart\" aria-hidden=\"true\">My Cart</i>\r\n        </NavLink>\r\n      </nav>\r\n    );\r\n  };\r\n  \r\n  const NavigationNonAuth = () => {\r\n    return (\r\n      <nav className='navigation'>\r\n        <NavLink className='weblink' to='/'>\r\n          <img src={logo} alt='logo failed to load'/>\r\n        </NavLink>\r\n        <div className='searchBar'>\r\n          <NavLink className='weblink' to='/candies'>\r\n            <input className='allButton' type=\"submit\" value=\"All\"/>\r\n          </NavLink>\r\n          <form className=\"searchForm\" onSubmit={handleSubmit}>\r\n            <input type =\"search\" size=\"50\" placeholder=\"Search For Candies\" ref={nameEl}/>\r\n            <button type=\"submit\"><i className=\"fa fa-search\"></i></button>\r\n          </form>\r\n        </div>\r\n        <NavLink className='weblink' to='/signup'> \r\n          Sign-up\r\n        </NavLink>\r\n        <NavLink className='weblink' to='/signin'> \r\n          Sign-In\r\n        </NavLink>\r\n      </nav>\r\n    );\r\n  };\r\n\r\n  return currentUser ? <NavigationAuth /> : <NavigationNonAuth />;\r\n};\r\n  \r\n  export default Navigation;","import React from 'react'\r\n\r\nimport { doSocialSignIn } from '../firebase/FirebaseFunctions'\r\n\r\nconst SocialSignIn = () =>{\r\n    const socialSignOn = async (provider) =>{\r\n       try{\r\n        await doSocialSignIn(provider);\r\n       \r\n       }catch(err){\r\n           alert(err);\r\n       }\r\n\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <img onClick={()=> socialSignOn('google')} alt='google signin' src = 'CS554-Final_Project-Hosting/imgs/btn_google_signin.png'/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SocialSignIn","import React, {useContext} from 'react';\r\nimport SocialSignIn from './SocialSignIn';\r\nimport {Navigate} from 'react-router-dom'\r\nimport {AuthContext} from '../firebase/Auth'\r\nimport { doSignInWithEmailAndPassword,doPasswordReset } from '../firebase/FirebaseFunctions';\r\n\r\nfunction SignIn(){\r\n    const {currentUser} = useContext(AuthContext);\r\n    const handleLogin = async (event) => {\r\n        event.preventDefault();\r\n        let {email,password} = event.target.elements\r\n\r\n        try{\r\n            await doSignInWithEmailAndPassword(email.value, password.value)\r\n        }catch(err){\r\n            alert(err)\r\n        }\r\n    }\r\n    const passwordReset = (event) =>{\r\n        event.preventDefault();\r\n        let email = document.getElementById('email').value\r\n        if(email){\r\n            doPasswordReset(email)\r\n            alert (\"An email has been sent so that you can reset your password\")\r\n        }\r\n        else{\r\n            alert(\"Please enter an email address below before you click the forgot Password link\")\r\n        }\r\n    }\r\n    if(currentUser){\r\n        return <Navigate to =\"/\" />\r\n    }\r\n    return (\r\n        <div>\r\n        <h1>Log in</h1>\r\n        <form onSubmit={handleLogin}>\r\n          <div className='form-group'>\r\n            <label>\r\n              Email:\r\n              <input\r\n                className='form-control'\r\n                name='email'\r\n                id='email'\r\n                type='email'\r\n                placeholder='Email'\r\n                required\r\n              />\r\n            </label>\r\n          </div>\r\n          <div className='form-group'>\r\n            <label>\r\n              Password:\r\n              <input\r\n                className='form-control'\r\n                name='password'\r\n                type='password'\r\n                placeholder='Password'\r\n                autoComplete='off'\r\n                required\r\n              />\r\n            </label>\r\n          </div>\r\n          <button type='submit'>Log in</button>\r\n  \r\n          <button className='forgotPassword' onClick={passwordReset}>\r\n            Forgot Password\r\n          </button>\r\n        </form>\r\n  \r\n        <br />\r\n        <SocialSignIn />\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default SignIn;","import React, {useContext, useState} from 'react';\r\nimport {Navigate} from 'react-router-dom'\r\nimport { doCreateUserWithEmailAndPassword } from '../firebase/FirebaseFunctions';\r\nimport { AuthContext } from '../firebase/Auth';\r\nimport SocialSignIn from './SocialSignIn';\r\nfunction SignUp(){\r\n    const {currentUser} = useContext(AuthContext);\r\n    const [pwMatch,setPwMatch] = useState('')\r\n    const handleSignUp = async (e) =>{\r\n        e.preventDefault();\r\n        const{displayName, email, passwordOne, passwordTwo} = e.target.elements;\r\n        if(passwordOne.value !== passwordTwo.value){\r\n            setPwMatch('Passwords do not match');\r\n            return false\r\n        }\r\n\r\n        try{\r\n            await doCreateUserWithEmailAndPassword(email.value, passwordOne.value,displayName.value)\r\n        }catch(err){\r\n            alert(err)\r\n        }\r\n    };\r\n\r\n    if (currentUser){\r\n        return <Navigate to= '/home'/>\r\n    }\r\n    return(\r\n     <div>\r\n        <h1>Sign up</h1>\r\n        {pwMatch && <h4 className='error'>{pwMatch}</h4>}\r\n        <form onSubmit={handleSignUp}>\r\n        <div className='form-group'>\r\n            <label>\r\n            Name:\r\n            <input\r\n                className='form-control'\r\n                required\r\n                name='displayName'\r\n                type='text'\r\n                placeholder='Name'\r\n            />\r\n            </label>\r\n        </div>\r\n        <div className='form-group'>\r\n            <label>\r\n            Email:\r\n            <input\r\n                className='form-control'\r\n                required\r\n                name='email'\r\n                type='email'\r\n                placeholder='Email'\r\n            />\r\n            </label>\r\n        </div>\r\n        <div className='form-group'>\r\n            <label>\r\n            Password:\r\n            <input\r\n                className='form-control'\r\n                id='passwordOne'\r\n                name='passwordOne'\r\n                type='password'\r\n                placeholder='Password'\r\n                autoComplete='off'\r\n                required\r\n            />\r\n            </label>\r\n        </div>\r\n        <div className='form-group'>\r\n            <label>\r\n            Confirm Password:\r\n            <input\r\n                className='form-control'\r\n                name='passwordTwo'\r\n                type='password'\r\n                placeholder='Confirm Password'\r\n                autoComplete='off'\r\n                required\r\n            />\r\n            </label>\r\n        </div>\r\n        <button id='submitButton' name='submitButton' type='submit'>\r\n            Sign Up\r\n        </button>\r\n        </form>\r\n        <br />\r\n        <SocialSignIn />\r\n  </div>\r\n);\r\n}\r\n\r\nexport default SignUp;","import React, {useContext, useState, useEffect}  from 'react';\r\nimport { AuthContext } from '../firebase/Auth';\r\nimport axios from 'axios';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nimport {\r\n    Card,\r\n    CardActionArea,\r\n    CardContent,\r\n    CardMedia,\r\n    Grid,\r\n    Typography,\r\n    makeStyles,\r\n    Button\r\n  } from '@material-ui/core';\r\n\r\nimport '../App.css';\r\n\r\nconst useStyles = makeStyles({\r\n    card: {\r\n      maxWidth: 350,\r\n      height: 'auto',\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      borderRadius: 5,\r\n      border: '1px solid #1e8678',\r\n      boxShadow: '0 19px 38px rgba(0,0,0,0.30), 0 15px 12px rgba(0,0,0,0.22);'\r\n    },\r\n    titleHead: {\r\n      borderBottom: '1px solid #1e8678',\r\n      fontWeight: 'bold'\r\n    },\r\n    grid: {\r\n      flexGrow: 1,\r\n      flexDirection: 'row',\r\n    },\r\n    media: {\r\n      height: '100%',\r\n      width: '100%'\r\n    },\r\n    button: {\r\n      color: '#1e8678',\r\n      fontWeight: 'bold',\r\n      fontSize: 12\r\n    }\r\n  });\r\n\r\nfunction ShoppingCart() {\r\n    const {currentUser} = useContext(AuthContext);\r\n    const [ shopcart, setShopcartData ] = useState(undefined);\r\n    const [ error, setError ] = useState(false);\r\n    const [ loading, setLoading ] = useState(true);\r\n    const [ showForm, setForm ] = useState(false);\r\n    const [ candyData,setCandyData] = useState(undefined);\r\n    const [ quantChange,setQuantChange] = useState([]);\r\n    const [ itemDeleted,setItemDeleted] = useState(false);\r\n    const [ firstName, setFirstName] = useState('');\r\n    const [ lastName, setLastName] = useState('');\r\n    const [ street, setStreet] = useState('');\r\n    const [ city, setCity] = useState('');\r\n    const [ state, setState] = useState('');\r\n    const [ zip, setZip] = useState(0);\r\n    const [ payment, setPayment] = useState(0);\r\n    //const [totalPrice, setTotalPrice] = useState(0);\r\n    const classes = useStyles();\r\n    const intn = /^\\+?[1-9][0-9]*$/\r\n    let card\r\n    //console.log(currentUser.email)\r\n    useEffect(() =>{\r\n        async function fetchData(){\r\n            try{\r\n                const data = await axios.get(\"https://final554groupnull.herokuapp.com/usershopcart/\" + currentUser.email);\r\n                const candy = await axios.get(\"https://final554groupnull.herokuapp.com/Candies\");\r\n                let newData = [];\r\n                let changed = [];\r\n                \r\n                //console.log(data.data)\r\n                for(let i = 0; i< data.data.length;i++){\r\n                    let cand = candy.data.filter(ca=> data.data[i].id === ca._id)\r\n                    \r\n                    if(cand[0].stock ===0){\r\n                        await axios.delete(\"https://final554groupnull.herokuapp.com/usershopcartid/\" + currentUser.email,{ data: { id:cand[0]._id } })\r\n                        \r\n                        if(itemDeleted ===false) setItemDeleted(true)\r\n                    }\r\n                    else if(cand[0].stock < data.data[i].numbers){\r\n                        data.data[i].numbers = cand[0].stock;\r\n                        let body = {id: cand[0]._id, name : cand[0].name, price: cand[0].price, image:cand[0].image, numbers:data.data[i].numbers}\r\n                        await axios.put('https://final554groupnull.herokuapp.com/usershopcart/'+ currentUser.email, body,)\r\n                        \r\n                        newData.push(data.data[i])\r\n                        \r\n                    }\r\n                    else{\r\n                        newData.push(data.data[i])\r\n                    }\r\n                }\r\n                \r\n                \r\n                setQuantChange(changed);\r\n                setShopcartData(newData)\r\n                setCandyData(candy.data);\r\n                //console.log(data.data)\r\n                //useContext(data.data.results);\r\n                setLoading(false)\r\n                setError(false)\r\n               \r\n                //console.log(shopcart===undefined)\r\n\r\n            }\r\n            catch(e){\r\n                setError(true)\r\n                console.log(e)\r\n            }\r\n        }\r\n        fetchData();\r\n\r\n    }, [currentUser.email,itemDeleted]);\r\n    const deleteC = async(id, candyNumber,name) =>{        \r\n        try{\r\n            await axios.delete(\"https://final554groupnull.herokuapp.com/usershopcartid/\" + currentUser.email,{ data: { id:id } })\r\n            .then(async res=>{\r\n                let olddata = shopcart\r\n               // console.log(shopcart)\r\n                //let num \r\n                let changeData = olddata.filter((e, ind) => {\r\n                    return e.id !== res.data.id;\r\n                })\r\n                //console.log(changeData)\r\n                // olddata.splice(num,1)\r\n                // console.log(shopcart)\r\n                // console.log(olddata)\r\n                alert(\"You have successfully deleted item: \" +name + \" from your cart\" )\r\n                setShopcartData(changeData)\r\n            })\r\n            \r\n            \r\n            \r\n        }\r\n        catch(e){\r\n            alert(e)\r\n        }\r\n\t}\r\n    const changeCandy = async (id,name, price, image, number) => {\r\n        let data1\r\n      \r\n        try{\r\n            const {data} = await axios.get('https://final554groupnull.herokuapp.com/Candy/' + id);\r\n            data1 = data\r\n            console.log(data1)\r\n        }\r\n        catch(e){\r\n            alert(e)\r\n        }\r\n        let numberha = document.getElementById(id).value\r\n        let numberha1 = Number(numberha)\r\n        //console.log(numberha1)\r\n        //console.log(number)\r\n        //console.log(data1.stock)\r\n\r\n        if (isNaN(numberha1) || isNaN(numberha1) || isNaN(numberha1)){\r\n          alert('input must be number')\r\n          document.getElementById(id).value = ''\r\n        }\r\n        else if(intn.test(numberha) === false){\r\n          alert('input must be integer')\r\n          document.getElementById(id).value = ''\r\n        }\r\n        else if (numberha1  > data1.stock){\r\n          alert('input must less than candy left')\r\n          document.getElementById(id).value = ''\r\n        }\r\n\r\n\r\n        else{\r\n            const body = {id: id, name : name, price: price, image:image, numbers:numberha1}\r\n            \r\n            \r\n            if(numberha1 === number){\r\n                alert(`You already have ${number} units in your cart, you can only edit to change the value`)\r\n                return;\r\n            }\r\n            try{\r\n                \r\n                await axios.put('https://final554groupnull.herokuapp.com/usershopcart/'+ currentUser.email, body,)\r\n                .then(res=>{\r\n                    let olddata = shopcart\r\n                    //let num \r\n                    //console.log(res)\r\n                    let changeData = olddata.map((e, ind) => {\r\n                        //if (e.id === res.id){\r\n                        //num = ind\r\n                        return e.id === res.data.id? res.data:e;\r\n                        //}\r\n                    })\r\n                    // olddata.splice(num,1)\r\n                    // olddata.push\r\n                    // console.log(res)\r\n                    //console.log(changeData)\r\n                    setShopcartData(changeData)\r\n                    //console.log(changeData)\r\n                })\r\n                \r\n                alert('you have edited your shopping cart')\r\n            }\r\n            catch(e){\r\n                alert(e)\r\n            }\r\n            \r\n            document.getElementById(id).value = ''\r\n        }\r\n    };\r\n    const dataCheck = async (e) => {\r\n        e.preventDefault()\r\n        let totalprice = shopcart.reduce((curr, item) => curr + item.price * item.numbers, 0)\r\n\r\n        if(typeof firstName !== 'string' || firstName === ''){\r\n            alert('please enter a valid firstName')\r\n            return;\r\n        }\r\n        if(typeof lastName !== 'string' || lastName === ''){\r\n            alert('please enter a valid lastName')\r\n            return;\r\n        }\r\n        if(typeof street !== 'string' || street === ''){\r\n            alert('please enter a valid street')\r\n            return;\r\n        }\r\n        if(typeof city !== 'string' || city === ''){\r\n            alert('please enter a valid city')\r\n            return;\r\n        }\r\n        if(typeof state !== 'string' || state === ''){\r\n            alert('please enter a valid state')\r\n            return;\r\n        }\r\n        if(typeof zip !== 'string' || isNaN(parseInt(zip))){\r\n            alert('please enter a valid zipcode')\r\n            return\r\n        }\r\n        if(typeof payment !== 'string' || isNaN(parseInt(payment))){\r\n            alert('please enter a valid credit card number')\r\n            return\r\n        }\r\n\r\n        clearShopCart(shopcart, totalprice)\r\n\r\n    }\r\n    const clearShopCart = async (shopcart,totalprice) => {\r\n        //Deletes the shopping cart\r\n        let paymentInfo = payment.substring(payment.length -4);\r\n        let address = street +', ' + city + ', ' + state + ', ' + zip;\r\n        try{\r\n        const checkStock = await axios.get(\"https://final554groupnull.herokuapp.com/Candies\")\r\n        let check;\r\n        let stop = false;\r\n        shopcart.forEach((e)=>{\r\n            check = checkStock.data.filter(cand=> cand._id === e.id);\r\n\r\n            if(check[0].stock < e.numbers){\r\n                alert(\"There has been a change in stock, cannot complete order\");\r\n                stop = true;\r\n                window.location.reload();\r\n                return\r\n            }\r\n        })\r\n            \r\n        \r\n            if(stop===false){\r\n            await axios.post(`https://final554groupnull.herokuapp.com/order`, {\r\n            email: currentUser.email,\r\n            candy: shopcart,\r\n            address: address,\r\n            total: totalprice,\r\n            payment: paymentInfo\r\n            })\r\n\r\n            //Deletes the shopping cart\r\n\r\n            let updateInformation;\r\n            let currentCandy;\r\n            shopcart.forEach(async (e)=>{\r\n                currentCandy = candyData.filter(cand=> cand._id === e.id) \r\n            // console.log(currentCandy)\r\n                updateInformation  = {\r\n                    id: e.id,\r\n                    newStockNumber: (currentCandy[0].stock - e.numbers)\r\n\r\n                }\r\n                await axios.post('https://final554groupnull.herokuapp.com/Candies/updateStock', updateInformation)\r\n            })\r\n            \r\n            await axios.delete(`https://final554groupnull.herokuapp.com/usershopcart/${currentUser.email}`)\r\n            alert('thank you for your purchase')\r\n        \r\n            window.location.reload(false)\r\n        }\r\n        }catch(e){\r\n            alert(e);\r\n        }\r\n    }\r\n    const buildCards = (candy) =>{\r\n        return(\r\n            <Grid item xs={12} sm={6} md={4} lg={3} xl={2} key={candy.id}>\r\n                <Card className={classes.card} variant='outlined'>\r\n                    <CardActionArea>\r\n                        <Link to={`/Candy/${candy.id}`}>\r\n                            <CardMedia\r\n                                className={classes.media}\r\n                                component='img'\r\n                                image = {candy.image}\r\n                                title = 'image'\r\n                            />\r\n                            <CardContent>\r\n                                <Typography\r\n                                className={classes.titleHead}\r\n                                gutterBottom\r\n                                variant='h6'\r\n                                component='h3'\r\n                                >\r\n                                {candy.name}\r\n                                </Typography>   \r\n                            </CardContent>\r\n                        </Link>\r\n                        \r\n                        \r\n                        <h2>You have {candy.numbers} {candy.name} in your shopping cart </h2>\r\n                        {quantChange.includes(candy.id)&&currentUser&&(\r\n                            <h3>This quantity has changed!! </h3>\r\n                            )}\r\n                        <label>\r\n                            <input\r\n                                id={candy.id}\r\n                                name='number'\r\n                                placeholder='Change amount'\r\n                            />\r\n                        </label>\r\n                        <Button onClick={()=>changeCandy(candy.id,candy.name, candy.price, candy.image, candy.numbers)}> Edit Quantity</Button>\r\n                        <Button onClick={()=>deleteC(candy.id, candy.numbers,candy.name)}>Delete this candy</Button>\r\n                    </CardActionArea>\r\n                </Card>\r\n            </Grid>\r\n        );\r\n    } \r\n\r\n    if (error === true){\r\n        return (\r\n            <div>\r\n                <h2>404 page not find</h2>\r\n            </div>\r\n        )\r\n    }\r\n    else if(loading === true){\r\n        return(\r\n            <div>\r\n                <h2>Loading . . .</h2>\r\n            </div>\r\n        )\r\n    }\r\n    else{\r\n        //console.log(shopcart)\r\n        if(shopcart === undefined || shopcart.length === 0){\r\n            //console.log('aaaa')\r\n            return(\r\n                \r\n                <div>\r\n                      {itemDeleted===true&&currentUser&&(\r\n                        <h2 id='itemDeleted'>Due to changes in stock, one or more items have been removed from your cart. Please review your items before checking out</h2>\r\n                    )}\r\n                    <h2>Your didn't add any candy in to shopping cart go add some!!!</h2>\r\n                </div>\r\n            )\r\n        }\r\n        else{\r\n            \r\n            //console.log(shopcart)\r\n            let totalprice = 0\r\n            card  = shopcart && shopcart.map((eachCandy) =>{\r\n                //console.log(eachCandy)\r\n                totalprice = totalprice + eachCandy.price * eachCandy.numbers\r\n                return buildCards(eachCandy);\r\n            })\r\n            return (\r\n                <div>\r\n\r\n                    {quantChange.length!==0&&currentUser&&(\r\n                        <h1 id='quantChange'>'Please review your cart, changes have been made due to changes in available stock</h1>\r\n                    )}\r\n                    {itemDeleted===true&&currentUser&&(\r\n                        <h2 id='itemDeleted'>Due to changes in stock, one or more items have been removed from your cart. Please review your items before checking out</h2>\r\n                    )}\r\n                    <Grid container className={classes.grid} spacing={5}>\r\n                        {card}\r\n                    </Grid>\r\n                    <h1>Total Price: {totalprice.toFixed(2)}</h1>\r\n                    <button onClick={() => setForm(!showForm)}>Check out</button>\r\n                    <form id='checkout' hidden={!showForm} onSubmit={dataCheck}>\r\n                        <label>First Name\r\n                        <input type=\"text\" value={firstName} onChange={e => setFirstName(e.target.value)}/>\r\n                        </label>\r\n                        <br/>\r\n                        <label>Last Name\r\n                        <input type=\"text\" value={lastName} onChange={e => setLastName(e.target.value)}/>\r\n                        </label>\r\n                        <br/>\r\n                        <h3>Address:</h3>\r\n                        <label>Street Address\r\n                        <input type=\"text\" id='street' value={street} onChange={e => setStreet(e.target.value)}/>\r\n                        </label>\r\n                        <br/>\r\n                        <label>City\r\n                        <input type=\"text\" id='city' value={city} onChange={e => setCity(e.target.value)}/>\r\n                        </label>\r\n                        <br/>\r\n                        <label> State\r\n                        <input type=\"text\" id= 'state' value={state} onChange={e => setState(e.target.value)}/>\r\n                        </label>\r\n                        <br/>\r\n                        <label>Zipcode\r\n                        <input type=\"number\" id='zip' value={zip} onChange={e => setZip(e.target.value)}/>\r\n                        </label>\r\n                        <br/>\r\n                        <label>Credit Card Number\r\n                        <input type=\"number\" id='payment' value={payment} onChange={e => setPayment(e.target.value)}/>\r\n                        </label>\r\n                        <br/>\r\n                        <input type=\"submit\" value=\"Submit\"/>\r\n                    </form>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n    \r\n}\r\n\r\nexport default ShoppingCart;","import React, {useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport { useParams, Link } from 'react-router-dom';\r\n\r\nimport {\r\n  Card,\r\n  CardActionArea,\r\n  CardContent,\r\n  CardMedia,\r\n  Grid,\r\n  makeStyles\r\n} from '@material-ui/core';\r\n\r\nimport '../App.css';\r\n\r\nconst useStyles = makeStyles({\r\n  card: {\r\n    maxWidth: 350,\r\n    height: 'auto',\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    borderRadius: 5,\r\n    border: '1px solid #1e8678',\r\n    boxShadow: '0 19px 38px rgba(0,0,0,0.30), 0 15px 12px rgba(0,0,0,0.22);'\r\n  },\r\n  titleHead: {\r\n    borderBottom: '1px solid #1e8678',\r\n    fontWeight: 'bold'\r\n  },\r\n  grid: {\r\n    flexGrow: 1,\r\n    flexDirection: 'row'\r\n  },\r\n  media: {\r\n    height: '100%',\r\n    width: '100%'\r\n  },\r\n  button: {\r\n    color: '#1e8678',\r\n    fontWeight: 'bold',\r\n    fontSize: 12\r\n  }\r\n});\r\n\r\nconst CandyList = () =>{\r\n  const [candyData, setCandyData] = useState(undefined);\r\n  const [ error, setError ] = useState(false);\r\n  const [ loading, setLoading ] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [filteCandy, setFilteCandy] = useState('');\r\n  const params = useParams();\r\n\r\n  const classes = useStyles();\r\n\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      try {\r\n        const {data} = await axios.get('https://final554groupnull.herokuapp.com/Candies');\r\n        setLoading(false);\r\n        setError(false);\r\n        setCandyData(data);\r\n        if (params.searchTerm) {\r\n          setSearchTerm(params.searchTerm);\r\n        } else {\r\n          setSearchTerm('');\r\n        }\r\n      } catch (e) {\r\n        setError(true);\r\n        console.log(e);\r\n      }\r\n    }\r\n    fetchData();\r\n  }, [params]);\r\n\r\n\r\n  const roundToHalf = (num) =>{\r\n    return Math.round(num * 2) / 2;\r\n  }\r\n  \r\n  const makeStarRating = (rating) => {\r\n    rating = roundToHalf(rating);\r\n    let content = [];\r\n    for (let i = 0; i < 5; i++) {\r\n      if (rating - i === .5) {\r\n        content.push(<i className=\"fa fa-star-half-full checked\" key={`star${i}`}/>);\r\n      } else if (rating - i > 0) {\r\n        content.push(<i className=\"fa fa-star checked\" key={`star${i}`}/>);\r\n      } else {\r\n        content.push(<i className=\"fa fa-star-o checked\" key={`star${i}`}/>);\r\n      }\r\n    }\r\n    return content;\r\n  }\r\n\r\n  const buildCards = (candy) =>{\r\n    return(\r\n      <Grid item xs={12} sm={6} md={4} lg={3} xl={2} key={candy._id}>\r\n          <Card className={classes.card} variant='outlined'>\r\n            <CardActionArea>\r\n              <Link to={`/Candy/${candy._id}`}>\r\n                <CardMedia\r\n                  className={classes.media}\r\n                  component='img'\r\n                  image = {candy.image}\r\n                  title = 'image'\r\n                />\r\n                <CardContent>\r\n                  <h2>{candy.name}</h2>\r\n                  <h2>{makeStarRating(candy.rating)} {candy.numRatings}</h2>\r\n                  <h2>${candy.price.toFixed(2)}</h2>\r\n                </CardContent>\r\n              </Link>\r\n            </CardActionArea>\r\n          </Card>\r\n      </Grid>\r\n    );\r\n  }\r\n  // card = candyData && candyData.map((eachCandy) =>{\r\n  //   return buildCards(eachCandy);\r\n  // })\r\n\r\n  // return(\r\n  //   <div>\r\n  //       <SearchCandy searchValue={searchValue} />\r\n  //       <br />\r\n  //       <br />\r\n  //       <Grid container className={classes.grid} spacing={5}>\r\n  //         {card}\r\n  //       </Grid>\r\n  //   </div>\r\n  // )  \r\n\r\n  let returnVal = candyData&&candyData.filter(candy =>{\r\n    if(searchTerm === '' && filteCandy === ''){\r\n      return true;\r\n    }\r\n    if(candy.name.toLowerCase().includes(searchTerm.toLowerCase()) && filteCandy === ''){\r\n      return true;\r\n    }\r\n    if(parseInt(filteCandy) < candy.rating && searchTerm === ''){\r\n      return true;\r\n    }\r\n    if(candy.name.toLowerCase().includes(searchTerm.toLowerCase()) && parseInt(filteCandy) < candy.rating){\r\n      return true;\r\n    }\r\n    return false\r\n  });\r\n\r\n\r\n  if (error){\r\n    return (\r\n      <div>\r\n        <h2>404 page not find</h2>\r\n      </div>\r\n    )\r\n  } else if(loading){\r\n    return(\r\n      <div>\r\n        <h2>Loading . . .</h2>\r\n      </div>\r\n    )\r\n  } else{\r\n    return(\r\n      <div>\r\n        <br />\r\n        <label htmlFor='rating'>\r\n          filter this by rating:\r\n          <select name = \"rating\" id =\"rating\"  onChange={event => setFilteCandy(event.target.value)}>\r\n            <option value = \"\"> </option>\r\n            <option value = \"0\">1</option>\r\n            <option value = \"1\">2</option>\r\n            <option value = \"2\">3</option>\r\n            <option value = \"3\">4</option>\r\n            <option value = \"4\">5</option>\r\n          </select>\r\n        </label>\r\n        <br />\r\n        <br />\r\n        <br />\r\n          {\r\n            returnVal&&returnVal.length > 0 ? \r\n              <Grid container className={classes.grid} spacing={5}>\r\n                {returnVal.map((candy) =>(buildCards(candy)))}\r\n              </Grid> :\r\n              <p>No Results</p>\r\n          }\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default CandyList;\r\n","import React, {useState, useEffect,useContext} from 'react';\r\nimport axios from 'axios';\r\nimport {useParams } from \"react-router-dom\";\r\nimport { AuthContext } from '../firebase/Auth';\r\nimport '../Candy.css';\r\n\r\nconst Candy = () =>{\r\n  const {currentUser} = useContext(AuthContext);\r\n  const [candyInfo, setCandyInfo] = useState(undefined)\r\n  const [candyHave, setCandyHave] = useState(0)\r\n  const [candyStock, setCandyStock] = useState(0)\r\n  const [userReview,setUserReview] = useState(undefined)\r\n\r\n\r\n  const [ loading, setLoading ] = useState(true);\r\n  const params = useParams();\r\n  const intn = /^\\+?[1-9][0-9]*$/;\r\n\r\n  const [reviewRating, setReviewRating] = useState(0);\r\n  const veganCheck = 'https://iamgoingvegan.b-cdn.net/wp-content/uploads/2020/05/European-Vegetarian-Symbol-961x1024.png'\r\n\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      try {\r\n        let candyId = params.id\r\n        const {data} = await axios.get('https://final554groupnull.herokuapp.com/Candy/' + candyId);\r\n        setCandyInfo(data);\r\n        setCandyStock(data.stock)\r\n      \r\n        if(currentUser !== null){          \r\n          data.reviews.forEach((e)=>{\r\n            if(e.email === currentUser.email) setUserReview(e)\r\n          });\r\n          \r\n          const have = await axios.get('https://final554groupnull.herokuapp.com/usershopcart/' + currentUser.email)\r\n          let changeData = await have.data.filter((e) => {\r\n            return e.id === candyId\r\n          })\r\n          \r\n          if(changeData.length !== 0 && changeData[0].numbers){\r\n            setCandyHave(changeData[0].numbers)\r\n          }\r\n        }\r\n        setLoading(false);\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    }\r\n    fetchData();\r\n  }, [candyHave, currentUser, params.id]);\r\n\r\n  const reviewCandy = async () =>{\r\n    let rating = reviewRating;\r\n    if (rating === 0) {\r\n      alert(\"Please enter a Rating\");\r\n      return;\r\n    }\r\n    let review = document.getElementById('review').value;\r\n    if(!review){\r\n      review = \" \";\r\n    }\r\n    if(review.trim(' ').length === 0) review = \" \";\r\n    let email = currentUser.email;\r\n    let candyId = candyInfo._id;\r\n    \r\n    try{\r\n      await axios.post('https://final554groupnull.herokuapp.com/review',{\r\n        candyId: candyId,\r\n        email: email,\r\n        review: review,\r\n        rating: rating\r\n      });\r\n      \r\n      document.getElementById('review').value='';\r\n      var today = new Date();\r\n      var dd = String(today.getDate()).padStart(2, '0');\r\n      var mm = String(today.getMonth() + 1).padStart(2, '0'); \r\n      var yyyy = today.getFullYear();\r\n      today = mm + '/' + dd + '/' + yyyy;\r\n      let  newReview = {\r\n        candyId: candyId,\r\n        email: email,\r\n        review: review,\r\n        rating: rating,\r\n        date: today\r\n      }\r\n      setUserReview(newReview);\r\n    }catch(e){\r\n      alert(e);\r\n    }\r\n  }\r\n\r\n  const deleteReview = async()=>{\r\n    try{\r\n\r\n      await axios.post('https://final554groupnull.herokuapp.com/review/delete',{\r\n        candyId: candyInfo._id,\r\n        email: currentUser.email,\r\n      });\r\n      \r\n      setUserReview(undefined);\r\n      setReviewRating(0);\r\n    } catch(e){\r\n      alert(e);\r\n    }\r\n  }\r\n\r\n  const changeCandy = async () => {\r\n    let numberha = document.getElementById('number').value\r\n    let numberha1 = Number(numberha)\r\n    \r\n    if (isNaN(numberha1) || isNaN(numberha1) || isNaN(numberha1)){\r\n      alert('input must be number')\r\n      document.getElementById('number').value = ''\r\n    }\r\n    else if(intn.test(numberha) === false){\r\n      alert('input must be integer')\r\n      document.getElementById('number').value = ''\r\n    } \r\n    \r\n    else if (numberha1 + candyHave > candyInfo.stock){\r\n      alert('There is not enough stock available to add that amount to your cart')\r\n      document.getElementById('number').value = ''\r\n    }\r\n    else{\r\n      let total = numberha1 + candyHave\r\n      const body = {id: params.id, name : candyInfo.name, price: candyInfo.price, image:candyInfo.image, numbers:total}\r\n      \r\n      try{\r\n        await axios.put('https://final554groupnull.herokuapp.com/usershopcart/'+ currentUser.email, body,)\r\n        .then(res=>{\r\n          setCandyHave(res.data.numbers)\r\n          \r\n        })\r\n        alert(`You successfully added ${numberha1} units to your cart`)\r\n        \r\n      }\r\n      catch(e){\r\n        alert(e)\r\n      }\r\n      document.getElementById('number').value = ''\r\n    } \r\n  };\r\n\r\n  const roundToHalf = (num) =>{\r\n    return Math.round(num * 2) / 2;\r\n  }\r\n  \r\n  \r\n  const makeStarRating = (rating) => {\r\n    rating = roundToHalf(rating);\r\n    let content = [];\r\n    for (let i = 0; i < 5; i++) {\r\n      if (rating - i === .5) {\r\n        content.push(<i className=\"fa fa-star-half-full checked\" key={`star${i}`}/>);\r\n      } else if (rating - i > 0) {\r\n        content.push(<i className=\"fa fa-star checked\" key={`star${i}`}/>);\r\n      } else {\r\n        content.push(<i className=\"fa fa-star-o checked\" key={`star${i}`}/>);\r\n      }\r\n    }\r\n    return content;\r\n  }\r\n\r\n  \r\n  const changeRating = (num) => {\r\n    setReviewRating(num);\r\n  }\r\n\r\n\r\n  \r\n  \r\n  if(loading){\r\n    return (\r\n\t\t\t<div>\r\n\t\t\t\t<h2>Loading...</h2>\r\n\t\t\t</div>\r\n\t\t);\r\n  }\r\n  else{\r\n    if(candyInfo === undefined){\r\n      return(\r\n        <div>\r\n          <h1>Sorry, there is no such candy</h1>\r\n        </div>\r\n      )\r\n    }\r\n    else{\r\n      let notBlank= [];   \r\n      candyInfo.reviews.forEach((e)=>{\r\n        if(currentUser){\r\n          if(e.email !== currentUser.email){\r\n            if(e.review.trim(' ').length!==0) notBlank.push(e);\r\n          } \r\n        }\r\n        else{\r\n          if(e.review.trim(' ').length!==0) notBlank.push(e);\r\n        } \r\n      });    \r\n \r\n      return(\r\n        <div className='Candy-body'>\r\n          <div className='Top-Info'>\r\n            <img src = {candyInfo.image} alt = \"Candy\" />\r\n            <div className='Right-Top'>\r\n              <div className='Top-Top-Info'>\r\n                <p><u>{candyInfo&&candyInfo.manufacturer}</u></p>\r\n                {candyInfo.vegan&&<img src = {veganCheck} width={40} height={40} alt='veganCheck'/>}\r\n              </div>\r\n              <h1>{candyInfo&&candyInfo.name}</h1>\r\n              <div className='Review-Info'>\r\n                <div className='starsBig'>{makeStarRating(candyInfo.rating)}</div>\r\n                <p>({candyInfo.rating.toFixed(1)})</p>\r\n                <a className='numReviews' href='#reviews'>{candyInfo.numRatings} {candyInfo.numRatings > 1? 'Ratings' : 'Rating'}</a>\r\n              </div>\r\n              <h2>Price: ${candyInfo&&candyInfo.price.toFixed(2)}</h2>\r\n              <div className='add'>\r\n                {currentUser&&(<div className='input-selection'>\r\n                  <p>You currently have {candyHave} units:</p>\r\n                  <label>\r\n                    Purchase more:\r\n                    <input\r\n                      id='number'\r\n                      name='number'\r\n                      placeholder='quantity'\r\n                    />\r\n                  </label>\r\n                </div>)}\r\n                {currentUser&&(<button onClick={changeCandy}> add to cart</button>)}\r\n                {!currentUser&&(<p> Must be logged in to add candy to shopping cart</p>)}\r\n                <h3>There is {candyStock} left in stock</h3>\r\n                <p>{candyInfo&&candyInfo.descrption}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {!userReview&&currentUser&&(<div id=\"newReview\">\r\n            <div className='review-input'>\r\n              <h3>Review this product</h3>\r\n              <div className=\"star-rating\">\r\n                <input type=\"radio\" name=\"stars\" id=\"star-a\" value=\"5\" onClick={() => changeRating(5)}/>\r\n                <label htmlFor=\"star-a\"></label>\r\n\r\n                <input type=\"radio\" name=\"stars\" id=\"star-b\" value=\"4\" onClick={() => changeRating(4)}/>\r\n                <label htmlFor=\"star-b\"></label>\r\n            \r\n                <input type=\"radio\" name=\"stars\" id=\"star-c\" value=\"3\" onClick={() => changeRating(3)}/>\r\n                <label htmlFor=\"star-c\"></label>\r\n            \r\n                <input type=\"radio\" name=\"stars\" id=\"star-d\" value=\"2\" onClick={() => changeRating(2)}/>\r\n                <label htmlFor=\"star-d\"></label>\r\n            \r\n                <input type=\"radio\" name=\"stars\" id=\"star-e\" value=\"1\" onClick={() => changeRating(1)}/>\r\n                <label htmlFor=\"star-e\"></label>\r\n              </div>\r\n                <label htmlFor =\"review\">\r\n                  Write a new Review:\r\n                  <textarea\r\n                    cols=\"40\" rows=\"5\"\r\n                    id='review'\r\n                    name='review'\r\n                    placeholder='Write a review on this product...'\r\n                  />\r\n                </label>\r\n              </div>\r\n            <button onClick={reviewCandy}> Write Review</button>\r\n          </div>)}\r\n          {userReview&&currentUser&&(<div id=\"userReview\">\r\n              <h3>Your Review</h3>\r\n        \r\n                <p>Review by {userReview.email}  on {userReview.date}</p>\r\n                \r\n                <p>{makeStarRating(userReview.rating)}</p>\r\n                \r\n                <p>Review: {userReview.review}</p>\r\n\r\n                <button onClick={deleteReview}>Delete Review</button>\r\n              </div>)}\r\n          <p><b>Reviews: </b></p>\r\n          <ul id=\"reviewList\">\r\n            {notBlank.map(e=>\r\n              <li key={e.email}>\r\n                <p>Review by {e.email}  on {e.date}</p>\r\n                \r\n                <p>{makeStarRating(e.rating)}</p>\r\n                \r\n                <p>Review: {e.review}</p>\r\n              </li>\r\n            )}\r\n          </ul>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n};\r\n\r\n\r\nexport default Candy;","import React, {useContext} from 'react';\r\nimport {Navigate,Outlet} from 'react-router-dom';\r\nimport { AuthContext } from '../firebase/Auth';\r\n\r\nconst PrivateRoute = () => {\r\n    const {currentUser} = useContext(AuthContext);\r\n  \r\n  \r\n    return currentUser ? <Outlet /> : <Navigate to='/signin' />;\r\n  };\r\n  \r\n  export default PrivateRoute;","import React from 'react'\r\nimport '../App.css';\r\nimport Account from './Account';\r\nimport {HashRouter as Router,Route, Routes} from 'react-router-dom'\r\nimport Home from './Home';\r\nimport Landing from './Landing'\r\nimport Navigation from './Navigation';\r\nimport SignIn from './SignIn'\r\nimport SignUp from './SignUp'\r\nimport ShoppingCart from './ShoppingCart';\r\nimport CandyList from './CandyList'\r\nimport Candy from './Candy';\r\n\r\nimport {AuthProvider} from \"../firebase/Auth\"\r\nimport PrivateRoute from './PrivateRoute';\r\nfunction App() {\r\n  return (\r\n    <AuthProvider>\r\n    <Router>\r\n      <div className='App'>\r\n        <header className='App-header'>\r\n          <Navigation />\r\n        </header>\r\n      </div>\r\n      <Routes>\r\n        <Route path='/' element={<Landing />} />\r\n        <Route path='/CS554-Final_Project-Hosting' element={<Landing />} />\r\n        <Route path='/home' element={<PrivateRoute />}>\r\n          <Route path='/home' element={<Home />} />\r\n        </Route>\r\n        <Route path='/shoppingcart' element={<ShoppingCart />}></Route>\r\n        <Route path='/account' element={<PrivateRoute />}>\r\n        <Route path='/account' element={<Account />} />\r\n        </Route>\r\n        <Route path='/signin' element={<SignIn />} />\r\n        <Route path='/signup' element={<SignUp />} />\r\n        <Route path= '/Candies' element={<CandyList/>} />\r\n        <Route path= '/Candies/:searchTerm' element={<CandyList/>} />\r\n        <Route path= '/Candy/:id' element={<Candy/>} />\r\n      </Routes>\r\n    </Router>\r\n  </AuthProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}